# 魂語框架配置文件 - ToneSoul Configuration
# 用於AI倫理系統的誠信檢查與誓語流程

tonesoul:
  # 核心配置
  core:
    version: "1.0.0"
    framework: "ToneSoul"
    description: "AI Ethics Integrity & Vow Management System"
    
  # 誓語模組配置
  vow:
    # 誓語驗證器
    verification:
      enabled: true
      algorithm: "SHA256"  # 完整性校驗算法
      timeout: 30  # 驗證超時時間（秒）
      max_retries: 3
      
    # 誓語生命週期
    lifecycle:
      auto_archive: true
      archive_after_days: 365
      retention_days: 730
      
    # 誓語觸發事件
    events:
      - event_type: "vow_created"
        handlers:
          - "log_handler"
          - "notification_handler"
      - event_type: "vow_verified"
        handlers:
          - "log_handler"
          - "audit_handler"
      - event_type: "vow_failed"
        handlers:
          - "alert_handler"
          - "escalation_handler"
  
  # 誠信檢查配置
  integrity_check:
    enabled: true
    check_frequency: "daily"  # daily, weekly, monthly
    check_time: "02:00"  # UTC時間
    
    # 檢查規則
    rules:
      - rule_id: "rule_001"
        description: "AI決策透明性檢查"
        severity: "high"
        enabled: true
      - rule_id: "rule_002"
        description: "偏見檢測檢查"
        severity: "critical"
        enabled: true
      - rule_id: "rule_003"
        description: "隱私保護檢查"
        severity: "high"
        enabled: true
      - rule_id: "rule_004"
        description: "責任鏈驗證"
        severity: "medium"
        enabled: true
  
  # 責任鏈配置
  responsibility_chain:
    enabled: true
    # 責任角色定義
    roles:
      - role_id: "ai_ethics_board"
        name: "AI Ethics Board"
        description: "最高決策與監督機構"
        level: 1
      - role_id: "compliance_team"
        name: "Compliance Team"
        description: "合規性檢查與執行"
        level: 2
      - role_id: "development_team"
        name: "Development Team"
        description: "系統開發與實現"
        level: 3
      - role_id: "monitoring_system"
        name: "Monitoring System"
        description: "持續監控與日誌"
        level: 4
    
    # 責任轉移規則
    transfer_rules:
      escalation_on_failure: true
      notification_threshold: 3  # 連續失敗次數
      auto_escalate: true
  
  # 日誌與審計配置
  logging:
    level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
    format: "JSON"
    
    # 日誌輸出目的地
    outputs:
      - type: "file"
        path: "logs/tonesoul.log"
        max_size: "100MB"
        backup_count: 10
      - type: "database"
        connection_string: "${DB_CONNECTION_STRING}"
        table: "tonesoul_logs"
      - type: "syslog"
        host: "${SYSLOG_HOST}"
        port: 514
  
  # 通知配置
  notifications:
    enabled: true
    channels:
      - type: "email"
        recipients:
          - "ethics@example.com"
          - "compliance@example.com"
        events:
          - "vow_failed"
          - "integrity_check_failed"
      - type: "slack"
        webhook_url: "${SLACK_WEBHOOK_URL}"
        channel: "#ai-ethics-alerts"
        events:
          - "critical_violation"
          - "chain_escalation"
      - type: "webhook"
        url: "${WEBHOOK_URL}"
        events:
          - "all"
  
  # 安全配置
  security:
    # 加密設置
    encryption:
      enabled: true
      algorithm: "AES-256"
      key_rotation_days: 90
    
    # 訪問控制
    access_control:
      require_authentication: true
      require_authorization: true
      audit_all_access: true
    
    # API安全
    api_security:
      rate_limiting: true
      rate_limit: 1000  # 請求/分鐘
      require_api_key: true
      token_expiration: 3600  # 秒

# 環境特定配置
environments:
  development:
    debug: true
    log_level: "DEBUG"
    verify_ssl: false
  
  staging:
    debug: false
    log_level: "INFO"
    verify_ssl: true
  
  production:
    debug: false
    log_level: "WARNING"
    verify_ssl: true
    enforce_security: true
    require_approval: true

# 系統集成
integration:
  ai_system:
    enabled: true
    api_endpoint: "${AI_SYSTEM_API}"
    timeout: 60
  
  compliance_system:
    enabled: true
    api_endpoint: "${COMPLIANCE_API}"
    timeout: 30
  
  audit_system:
    enabled: true
    api_endpoint: "${AUDIT_API}"
    timeout: 30
